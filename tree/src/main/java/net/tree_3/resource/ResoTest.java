package net.tree_3.resource;

import com.alibaba.fastjson.JSONArray;
import org.junit.Before;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

public class ResoTest {

    private List<ResourceTreeVO> tree;
    private List<ResourceTreeVO> list;
    @Before
    public void t1() {
        String treeJson = "[{\"children\":[{\"children\":[{\"children\":[],\"code\":\"/pis/finance/export\",\"level\":3,\"name\":\"财务信息导出\",\"parentId\":17,\"resourceId\":100},{\"children\":[],\"code\":\"/pis/finance/list\",\"level\":3,\"name\":\"财务列表--筛选/查询/重置\",\"parentId\":17,\"resourceId\":108},{\"children\":[],\"code\":\"/pis/finance/template-download\",\"level\":3,\"name\":\"财务信息模板下载\",\"parentId\":17,\"resourceId\":112},{\"children\":[],\"code\":\"/pis/finance/import\",\"level\":3,\"name\":\"财务信息导入\",\"parentId\":17,\"resourceId\":163}],\"code\":\"pis-finance-muen\",\"level\":2,\"name\":\"财务管理\",\"parentId\":2,\"resourceId\":17},{\"children\":[{\"children\":[],\"code\":\"/pis/department/edit\",\"level\":3,\"name\":\"部门信息-编辑\",\"parentId\":18,\"resourceId\":134},{\"children\":[],\"code\":\"/pis/department/all\",\"level\":3,\"name\":\"所有部门信息\",\"parentId\":18,\"resourceId\":170},{\"children\":[],\"code\":\"/pis/department/add\",\"level\":3,\"name\":\"部门信息-新增\",\"parentId\":18,\"resourceId\":185},{\"children\":[],\"code\":\"/pis/department/delete\",\"level\":3,\"name\":\"部门信息-删除\",\"parentId\":18,\"resourceId\":196}],\"code\":\"pis-department-muen\",\"level\":2,\"name\":\"部门设置\",\"parentId\":2,\"resourceId\":18},{\"children\":[{\"children\":[],\"code\":\"/pis/role/auth-resource\",\"level\":3,\"name\":\"角色授权\",\"parentId\":19,\"resourceId\":119},{\"children\":[],\"code\":\"/pis/resource/resource-tree\",\"level\":3,\"name\":\"加载权限树\",\"parentId\":19,\"resourceId\":121},{\"children\":[],\"code\":\"/pis/role/add\",\"level\":3,\"name\":\"角色信息-新增\",\"parentId\":19,\"resourceId\":137},{\"children\":[],\"code\":\"/pis/role/edit\",\"level\":3,\"name\":\"角色信息列表-编辑\",\"parentId\":19,\"resourceId\":140},{\"children\":[],\"code\":\"/pis/role/page\",\"level\":3,\"name\":\"角色信息列表-筛选查询\",\"parentId\":19,\"resourceId\":143},{\"children\":[],\"code\":\"/pis/role/delete\",\"level\":3,\"name\":\"角色信息列表-删除\",\"parentId\":19,\"resourceId\":187}],\"code\":\"pis-role-muen\",\"level\":2,\"name\":\"角色设置\",\"parentId\":2,\"resourceId\":19},{\"children\":[{\"children\":[],\"code\":\"/pis/user/export\",\"level\":3,\"name\":\"用户信息-导出\",\"parentId\":20,\"resourceId\":104},{\"children\":[],\"code\":\"/pis/user/delete\",\"level\":3,\"name\":\"用户信息-删除\",\"parentId\":20,\"resourceId\":107},{\"children\":[],\"code\":\"/pis/user/edit\",\"level\":3,\"name\":\"用户信息-编辑\",\"parentId\":20,\"resourceId\":120},{\"children\":[],\"code\":\"/pis/department/all\",\"level\":3,\"name\":\"部门列表\",\"parentId\":20,\"resourceId\":130},{\"children\":[],\"code\":\"/pis/user/edit-referee\",\"level\":3,\"name\":\"设置评定人和领导\",\"parentId\":20,\"resourceId\":144},{\"children\":[],\"code\":\"/pis/user/template-download\",\"level\":3,\"name\":\"用户信息-模板下载\",\"parentId\":20,\"resourceId\":164},{\"children\":[],\"code\":\"/pis/user/import\",\"level\":3,\"name\":\"用户信息-导入\",\"parentId\":20,\"resourceId\":173},{\"children\":[],\"code\":\"/pis/user/page\",\"level\":3,\"name\":\"用户列表-过滤查询/重置\",\"parentId\":20,\"resourceId\":179},{\"children\":[],\"code\":\"/pis/user/reset-password\",\"level\":3,\"name\":\"密码重置\",\"parentId\":20,\"resourceId\":180},{\"children\":[],\"code\":\"/pis/user/auth-role\",\"level\":3,\"name\":\"用户配置角色\",\"parentId\":20,\"resourceId\":189},{\"children\":[],\"code\":\"/pis/user/find-one\",\"level\":3,\"name\":\"用户信息-详情\",\"parentId\":20,\"resourceId\":192},{\"children\":[],\"code\":\"/pis/dictionary/list\",\"level\":3,\"name\":\"公司列表查询\",\"parentId\":20,\"resourceId\":193},{\"children\":[],\"code\":\"/pis/user/add\",\"level\":3,\"name\":\"用户信息-新增\",\"parentId\":20,\"resourceId\":199}],\"code\":\"pis-user-muen\",\"level\":2,\"name\":\"用户设置\",\"parentId\":2,\"resourceId\":20},{\"children\":[{\"children\":[],\"code\":\"/pis/resource/edit\",\"level\":3,\"name\":\"权限列表-编辑\",\"parentId\":21,\"resourceId\":133},{\"children\":[],\"code\":\"/pis/resource/add\",\"level\":3,\"name\":\"权限列表-新增\",\"parentId\":21,\"resourceId\":151},{\"children\":[],\"code\":\"/pis/resource/delete\",\"level\":3,\"name\":\"权限列表-删除\",\"parentId\":21,\"resourceId\":162},{\"children\":[],\"code\":\"/pis/resource/page\",\"level\":3,\"name\":\"权限分页列表-过滤/重置\",\"parentId\":21,\"resourceId\":195}],\"code\":\"pis-resourec-muen\",\"level\":2,\"name\":\"权限列表\",\"parentId\":2,\"resourceId\":21},{\"children\":[{\"children\":[],\"code\":\"/pis/config/page\",\"level\":3,\"name\":\"配置分页列表-过滤/重置\",\"parentId\":22,\"resourceId\":109},{\"children\":[],\"code\":\"/pis/config/add\",\"level\":3,\"name\":\"系统配置-新增\",\"parentId\":22,\"resourceId\":111},{\"children\":[],\"code\":\"/pis/config/delete\",\"level\":3,\"name\":\"系统配置-删除\",\"parentId\":22,\"resourceId\":118},{\"children\":[],\"code\":\"/pis/config/edit\",\"level\":3,\"name\":\"系统配置-编辑\",\"parentId\":22,\"resourceId\":156}],\"code\":\"pis-config-muen\",\"level\":2,\"name\":\"系统配置\",\"parentId\":2,\"resourceId\":22},{\"children\":[{\"children\":[],\"code\":\"/pis/dictionary/delete\",\"level\":3,\"name\":\"数据字典-删除\",\"parentId\":23,\"resourceId\":116},{\"children\":[],\"code\":\"/pis/dictionary/edit\",\"level\":3,\"name\":\"数据字典-编辑\",\"parentId\":23,\"resourceId\":128},{\"children\":[],\"code\":\"/pis/dictionary/page\",\"level\":3,\"name\":\"字典分页列表-过滤/重置\",\"parentId\":23,\"resourceId\":157},{\"children\":[],\"code\":\"/pis/dictionary/add\",\"level\":3,\"name\":\"数据字典-新增\",\"parentId\":23,\"resourceId\":172}],\"code\":\"pis-dictionary-muen\",\"level\":2,\"name\":\"数据字典\",\"parentId\":2,\"resourceId\":23}],\"code\":\"pis-system-manage\",\"level\":1,\"name\":\"系统管理\",\"parentId\":2,\"resourceId\":2},{\"children\":[],\"code\":\"1\",\"level\":1,\"name\":\"孙伟\",\"parentId\":-1,\"resourceId\":301}]";

        String listJson = "[{\"code\":\"pis-system-manage\",\"level\":1,\"name\":\"系统管理\",\"parentId\":2,\"resourceId\":2},{\"code\":\"pis-single-view\",\"level\":2,\"name\":\"我的视角\",\"parentId\":1,\"resourceId\":10},{\"code\":\"pis-project-view\",\"level\":2,\"name\":\"项目视角\",\"parentId\":1,\"resourceId\":11},{\"code\":\"pis-task-muen\",\"level\":2,\"name\":\"任务管理\",\"parentId\":1,\"resourceId\":12},{\"code\":\"pis-project-muen\",\"level\":2,\"name\":\"项目管理\",\"parentId\":1,\"resourceId\":13},{\"code\":\"pis-account-muen\",\"level\":2,\"name\":\"账号管理\",\"parentId\":1,\"resourceId\":14},{\"code\":\"pis-public-muen\",\"level\":2,\"name\":\"公共模块\",\"parentId\":1,\"resourceId\":15},{\"code\":\"pis-department-view\",\"level\":2,\"name\":\"部门视角\",\"parentId\":1,\"resourceId\":16},{\"code\":\"pis-finance-muen\",\"level\":2,\"name\":\"财务管理\",\"parentId\":2,\"resourceId\":17},{\"code\":\"pis-department-muen\",\"level\":2,\"name\":\"部门设置\",\"parentId\":2,\"resourceId\":18},{\"code\":\"pis-role-muen\",\"level\":2,\"name\":\"角色设置\",\"parentId\":2,\"resourceId\":19},{\"code\":\"pis-user-muen\",\"level\":2,\"name\":\"用户设置\",\"parentId\":2,\"resourceId\":20},{\"code\":\"pis-resourec-muen\",\"level\":2,\"name\":\"权限列表\",\"parentId\":2,\"resourceId\":21},{\"code\":\"pis-config-muen\",\"level\":2,\"name\":\"系统配置\",\"parentId\":2,\"resourceId\":22},{\"code\":\"pis-dictionary-muen\",\"level\":2,\"name\":\"数据字典\",\"parentId\":2,\"resourceId\":23},{\"code\":\"/pis/finance/export\",\"level\":3,\"name\":\"财务信息导出\",\"parentId\":17,\"resourceId\":100},{\"code\":\"/pis/task/find-charger\",\"level\":3,\"name\":\"负责人列表\",\"parentId\":15,\"resourceId\":101},{\"code\":\"/pis/index-project-view/task-review-list\",\"level\":3,\"name\":\"项目本月评审工时-筛选/查询/重置任务\",\"parentId\":11,\"resourceId\":102},{\"code\":\"/pis/task-out/add\",\"level\":3,\"name\":\"新增任务产出\",\"parentId\":12,\"resourceId\":103},{\"code\":\"/pis/user/export\",\"level\":3,\"name\":\"用户信息-导出\",\"parentId\":20,\"resourceId\":104},{\"code\":\"/pis/user/department-all\",\"level\":3,\"name\":\"成员下拉列表查询\",\"parentId\":13,\"resourceId\":105},{\"code\":\"/pis/project/delete-project-department\",\"level\":3,\"name\":\"关联部门删除\",\"parentId\":13,\"resourceId\":106},{\"code\":\"/pis/user/delete\",\"level\":3,\"name\":\"用户信息-删除\",\"parentId\":20,\"resourceId\":107},{\"code\":\"/pis/finance/list\",\"level\":3,\"name\":\"财务列表--筛选/查询/重置\",\"parentId\":17,\"resourceId\":108},{\"code\":\"/pis/config/page\",\"level\":3,\"name\":\"配置分页列表-过滤/重置\",\"parentId\":22,\"resourceId\":109},{\"code\":\"/pis/task/find-project-list\",\"level\":3,\"name\":\"项目列表\",\"parentId\":15,\"resourceId\":110},{\"code\":\"/pis/config/add\",\"level\":3,\"name\":\"系统配置-新增\",\"parentId\":22,\"resourceId\":111},{\"code\":\"/pis/finance/template-download\",\"level\":3,\"name\":\"财务信息模板下载\",\"parentId\":17,\"resourceId\":112},{\"code\":\"/pis/task/del\",\"level\":3,\"name\":\"删除任务\",\"parentId\":12,\"resourceId\":113},{\"code\":\"/pis/index-department-view/export-task-assess-list\",\"level\":3,\"name\":\"部门本月评定工时-导出\",\"parentId\":16,\"resourceId\":114},{\"code\":\"/pis/index-department-view/export-task-review-list\",\"level\":3,\"name\":\"部门本月评审工时-导出\",\"parentId\":16,\"resourceId\":115},{\"code\":\"/pis/dictionary/delete\",\"level\":3,\"name\":\"数据字典-删除\",\"parentId\":23,\"resourceId\":116},{\"code\":\"/pis/project/save-project-group\",\"level\":3,\"name\":\"项目分组添加-保存\",\"parentId\":13,\"resourceId\":117},{\"code\":\"/pis/config/delete\",\"level\":3,\"name\":\"系统配置-删除\",\"parentId\":22,\"resourceId\":118},{\"code\":\"/pis/role/auth-resource\",\"level\":3,\"name\":\"角色授权\",\"parentId\":19,\"resourceId\":119},{\"code\":\"/pis/user/edit\",\"level\":3,\"name\":\"用户信息-编辑\",\"parentId\":20,\"resourceId\":120},{\"code\":\"/pis/resource/resource-tree\",\"level\":3,\"name\":\"加载权限树\",\"parentId\":19,\"resourceId\":121},{\"code\":\"/pis/task/find-project-group\",\"level\":3,\"name\":\"项目分组列表\",\"parentId\":15,\"resourceId\":122},{\"code\":\"/pis/task-out/del\",\"level\":3,\"name\":\"删除任务产出\",\"parentId\":12,\"resourceId\":123},{\"code\":\"/pis/index-project-view/task-yield-list\",\"level\":3,\"name\":\"项目本月工作产出-筛选/查询/重置任务\",\"parentId\":11,\"resourceId\":124},{\"code\":\"/pis/task/stop\",\"level\":3,\"name\":\"中止任务\",\"parentId\":12,\"resourceId\":125},{\"code\":\"/pis/index-single-view/task-review-list-personal\",\"level\":3,\"name\":\"个人本月评审工时-导出\",\"parentId\":10,\"resourceId\":126},{\"code\":\"/pis/index-single-view/task-cost-list\",\"level\":3,\"name\":\"个人本月成本工时-筛选/查询/重置任务\",\"parentId\":10,\"resourceId\":127},{\"code\":\"/pis/dictionary/edit\",\"level\":3,\"name\":\"数据字典-编辑\",\"parentId\":23,\"resourceId\":128},{\"code\":\"/pis/task-cost/save\",\"level\":3,\"name\":\"新增任务成本工时\",\"parentId\":12,\"resourceId\":129},{\"code\":\"/pis/department/all\",\"level\":3,\"name\":\"部门列表\",\"parentId\":20,\"resourceId\":130},{\"code\":\"/pis/index-department-view/export-task-yield-list\",\"level\":3,\"name\":\"部门本月工作产出-导出\",\"parentId\":16,\"resourceId\":131},{\"code\":\"/pis/index-single-view/task-yield-list-personal\",\"level\":3,\"name\":\"个人本月工作产出-导出\",\"parentId\":10,\"resourceId\":132},{\"code\":\"/pis/resource/edit\",\"level\":3,\"name\":\"权限列表-编辑\",\"parentId\":21,\"resourceId\":133},{\"code\":\"/pis/department/edit\",\"level\":3,\"name\":\"部门信息-编辑\",\"parentId\":18,\"resourceId\":134},{\"code\":\"/pis/task/find-assessor\",\"level\":3,\"name\":\"评定人列表\",\"parentId\":15,\"resourceId\":135},{\"code\":\"/pis/task/reject\",\"level\":3,\"name\":\"驳回任务\",\"parentId\":12,\"resourceId\":136},{\"code\":\"/pis/role/add\",\"level\":3,\"name\":\"角色信息-新增\",\"parentId\":19,\"resourceId\":137},{\"code\":\"/pis/index-project-view/export-task-review-list\",\"level\":3,\"name\":\"项目本月评审工时-导出\",\"parentId\":11,\"resourceId\":138},{\"code\":\"/pis/index-project-view/export-task-cost-list\",\"level\":3,\"name\":\"项目本月成本工时-导出\",\"parentId\":11,\"resourceId\":139},{\"code\":\"/pis/role/edit\",\"level\":3,\"name\":\"角色信息列表-编辑\",\"parentId\":19,\"resourceId\":140},{\"code\":\"/pis/index-single-view/task-list\",\"level\":3,\"name\":\"个人我的任务-筛选/查询/重置任务\",\"parentId\":10,\"resourceId\":141},{\"code\":\"/pis/index-single-view/task-cost-list-personal\",\"level\":3,\"name\":\"个人本月成本工时-导出\",\"parentId\":10,\"resourceId\":142},{\"code\":\"/pis/role/page\",\"level\":3,\"name\":\"角色信息列表-筛选查询\",\"parentId\":19,\"resourceId\":143},{\"code\":\"/pis/user/edit-referee\",\"level\":3,\"name\":\"设置评定人和领导\",\"parentId\":20,\"resourceId\":144},{\"code\":\"/pis/task/save-leave\",\"level\":3,\"name\":\"评论任务\",\"parentId\":12,\"resourceId\":145},{\"code\":\"/pis/index-single-view/task-yield-list\",\"level\":3,\"name\":\"个人本月工作产出-筛选/查询/重置任务\",\"parentId\":10,\"resourceId\":146},{\"code\":\"/pis/project/project-group-member-all\",\"level\":3,\"name\":\"项目成员列表\",\"parentId\":13,\"resourceId\":147},{\"code\":\"/pis/user/set-password\",\"level\":3,\"name\":\"密码设置\",\"parentId\":14,\"resourceId\":148},{\"code\":\"/pis/index-single-view/task-assess-list\",\"level\":3,\"name\":\"个人本月评定工时-筛选/查询/重置任务\",\"parentId\":10,\"resourceId\":149},{\"code\":\"/pis/task/completion\",\"level\":3,\"name\":\"完成任务\",\"parentId\":12,\"resourceId\":150},{\"code\":\"/pis/resource/add\",\"level\":3,\"name\":\"权限列表-新增\",\"parentId\":21,\"resourceId\":151},{\"code\":\"/pis/user/set-email\",\"level\":3,\"name\":\"邮箱设置\",\"parentId\":14,\"resourceId\":152},{\"code\":\"/pis/task/del\",\"level\":3,\"name\":\"我的任务-删除任务\",\"parentId\":10,\"resourceId\":153},{\"code\":\"/pis/index-project-view/export-task-list\",\"level\":3,\"name\":\"项目任务-导出任务\",\"parentId\":11,\"resourceId\":154},{\"code\":\"/pis/project/list\",\"level\":3,\"name\":\"项目分页列表-查询\",\"parentId\":13,\"resourceId\":155},{\"code\":\"/pis/config/edit\",\"level\":3,\"name\":\"系统配置-编辑\",\"parentId\":22,\"resourceId\":156},{\"code\":\"/pis/dictionary/page\",\"level\":3,\"name\":\"字典分页列表-过滤/重置\",\"parentId\":23,\"resourceId\":157},{\"code\":\"/pis/task/add-single\",\"level\":3,\"name\":\"新增任务\",\"parentId\":11,\"resourceId\":158},{\"code\":\"/pis/index-department-view/task-review-list\",\"level\":3,\"name\":\"部门本月评审工时-筛选/查询/重置任务\",\"parentId\":16,\"resourceId\":159},{\"code\":\"/pis/task/edit\",\"level\":3,\"name\":\"编辑任务\",\"parentId\":12,\"resourceId\":160},{\"code\":\"/pis/index-project-view/export-task-yield-list\",\"level\":3,\"name\":\"项目本月工作产出-导出\",\"parentId\":11,\"resourceId\":161},{\"code\":\"/pis/resource/delete\",\"level\":3,\"name\":\"权限列表-删除\",\"parentId\":21,\"resourceId\":162},{\"code\":\"/pis/finance/import\",\"level\":3,\"name\":\"财务信息导入\",\"parentId\":17,\"resourceId\":163},{\"code\":\"/pis/user/template-download\",\"level\":3,\"name\":\"用户信息-模板下载\",\"parentId\":20,\"resourceId\":164},{\"code\":\"/pis/task/assess\",\"level\":3,\"name\":\"评定任务\",\"parentId\":12,\"resourceId\":165},{\"code\":\"/pis/project/detail\",\"level\":3,\"name\":\"项目管理-详情\",\"parentId\":13,\"resourceId\":166},{\"code\":\"/pis/index-department-view/task-cost-list\",\"level\":3,\"name\":\"部门本月成本工时-筛选/查询/重置任务\",\"parentId\":16,\"resourceId\":167},{\"code\":\"/pis/index-department-view/section-project-list\",\"level\":3,\"name\":\"部门项目列表-筛选/查询/重置任务\",\"parentId\":16,\"resourceId\":168},{\"code\":\"/pis/project/save-project-department\",\"level\":3,\"name\":\"关联部门添加-保存\",\"parentId\":13,\"resourceId\":169},{\"code\":\"/pis/department/all\",\"level\":3,\"name\":\"所有部门信息\",\"parentId\":18,\"resourceId\":170},{\"code\":\"/pis/project/delete\",\"level\":3,\"name\":\"项目删除\",\"parentId\":13,\"resourceId\":171},{\"code\":\"/pis/dictionary/add\",\"level\":3,\"name\":\"数据字典-新增\",\"parentId\":23,\"resourceId\":172},{\"code\":\"/pis/user/import\",\"level\":3,\"name\":\"用户信息-导入\",\"parentId\":20,\"resourceId\":173},{\"code\":\"/pis/task-cost/edit\",\"level\":3,\"name\":\"编辑任务成本工时\",\"parentId\":12,\"resourceId\":174},{\"code\":\"/pis/index-department-view/user-list\",\"level\":3,\"name\":\"部门用户列表\",\"parentId\":16,\"resourceId\":175},{\"code\":\"/pis/project/save-project-base\",\"level\":3,\"name\":\"项目保存\",\"parentId\":13,\"resourceId\":176},{\"code\":\"/pis/task-out/edit\",\"level\":3,\"name\":\"编辑任务产出\",\"parentId\":12,\"resourceId\":177},{\"code\":\"/pis/index-department-view/export-task-cost-list\",\"level\":3,\"name\":\"部门本月成本工时-导出\",\"parentId\":16,\"resourceId\":178},{\"code\":\"/pis/user/page\",\"level\":3,\"name\":\"用户列表-过滤查询/重置\",\"parentId\":20,\"resourceId\":179},{\"code\":\"/pis/user/reset-password\",\"level\":3,\"name\":\"密码重置\",\"parentId\":20,\"resourceId\":180},{\"code\":\"/pis/index-single-view/task-assess-list-personal\",\"level\":3,\"name\":\"个人本月评定工时-导出\",\"parentId\":10,\"resourceId\":181},{\"code\":\"/pis/task-cost/del\",\"level\":3,\"name\":\"删除任务成本工时\",\"parentId\":12,\"resourceId\":182},{\"code\":\"/pis/project/save-project-group-member\",\"level\":3,\"name\":\"项目成员添加-保存-编辑\",\"parentId\":13,\"resourceId\":183},{\"code\":\"/pis/task/start\",\"level\":3,\"name\":\"启动任务\",\"parentId\":12,\"resourceId\":184},{\"code\":\"/pis/department/add\",\"level\":3,\"name\":\"部门信息-新增\",\"parentId\":18,\"resourceId\":185},{\"code\":\"/pis/project/delete-project-group-member\",\"level\":3,\"name\":\"项目成员删除\",\"parentId\":13,\"resourceId\":186},{\"code\":\"/pis/role/delete\",\"level\":3,\"name\":\"角色信息列表-删除\",\"parentId\":19,\"resourceId\":187},{\"code\":\"/pis/project/delete-project-group\",\"level\":3,\"name\":\"项目分组删除\",\"parentId\":13,\"resourceId\":188},{\"code\":\"/pis/user/auth-role\",\"level\":3,\"name\":\"用户配置角色\",\"parentId\":20,\"resourceId\":189},{\"code\":\"/pis/index-single-view/import-task-list\",\"level\":3,\"name\":\"个人我的任务-导出任务\",\"parentId\":10,\"resourceId\":190},{\"code\":\"/pis/index-project-view/task-assess-list\",\"level\":3,\"name\":\"项目本月评定工时-筛选/查询/重置任务\",\"parentId\":11,\"resourceId\":191},{\"code\":\"/pis/user/find-one\",\"level\":3,\"name\":\"用户信息-详情\",\"parentId\":20,\"resourceId\":192},{\"code\":\"/pis/dictionary/list\",\"level\":3,\"name\":\"公司列表查询\",\"parentId\":20,\"resourceId\":193},{\"code\":\"/pis/index-project-view/export-task-assess-list\",\"level\":3,\"name\":\"项目本月评定工时-导出\",\"parentId\":11,\"resourceId\":194},{\"code\":\"/pis/resource/page\",\"level\":3,\"name\":\"权限分页列表-过滤/重置\",\"parentId\":21,\"resourceId\":195},{\"code\":\"/pis/department/delete\",\"level\":3,\"name\":\"部门信息-删除\",\"parentId\":18,\"resourceId\":196},{\"code\":\"/pis/index-project-view/task-cost-list\",\"level\":3,\"name\":\"项目本月成本工时-筛选/查询/重置任务\",\"parentId\":11,\"resourceId\":197},{\"code\":\"/pis/index-department-view/task-yield-list\",\"level\":3,\"name\":\"部门本月工作产出-筛选/查询/重置任务\",\"parentId\":16,\"resourceId\":198},{\"code\":\"/pis/user/add\",\"level\":3,\"name\":\"用户信息-新增\",\"parentId\":20,\"resourceId\":199},{\"code\":\"/pis/index-project-view/user-list\",\"level\":3,\"name\":\"工时日历\",\"parentId\":11,\"resourceId\":200},{\"code\":\"/pis/index-single-view/task-review-list\",\"level\":3,\"name\":\"个人本月评审工时-筛选/查询/重置任务\",\"parentId\":10,\"resourceId\":201},{\"code\":\"/pis/index-single-view/task-calendar-list\",\"level\":3,\"name\":\"个人工时日历\",\"parentId\":10,\"resourceId\":202},{\"code\":\"/pis/index-department-view/task-asseslist\",\"level\":3,\"name\":\"部门本月评定工时-筛选/查询/重置任务\",\"parentId\":16,\"resourceId\":203},{\"code\":\"/pis/index-project-view/task-list\",\"level\":3,\"name\":\"项目任务-任务列表\",\"parentId\":11,\"resourceId\":204},{\"code\":\"/auth/logout\",\"level\":3,\"name\":\"退出登录\",\"parentId\":15,\"resourceId\":205},{\"code\":\"/auth/account\",\"level\":3,\"name\":\"获取个人信息\",\"parentId\":15,\"resourceId\":206},{\"code\":\"1\",\"level\":1,\"name\":\"孙伟\",\"parentId\":-1,\"resourceId\":301}]";

        tree = JSONArray.parseArray(treeJson, ResourceTreeVO.class);
        list = JSONArray.parseArray(listJson, ResourceTreeVO.class);
    }

    @Test
    public void t2(){
        ResourceTreeVO vo = tree.get(0);
        ResourceTreeVO vo2 = list.get(0);
    }

    @Test
    public void t3(){

        // 先找到根节点
        List<ResourceTreeVO> rootList = new ArrayList<>();
        for (ResourceTreeVO vo : list) {
            if (vo.getLevel() == 1) {
                rootList.add(vo);
            }
        }

        // 子节点元数据
        List<ResourceTreeVO> bodyList = list.stream()
                .filter(e -> e.getLevel() != 1)
                .collect(Collectors.toList());

        ResourceTreeUtil treeUtil = new ResourceTreeUtil(rootList, bodyList);
        List<ResourceTreeVO> tree = treeUtil.getTree(); // 这个 Tree 就是上文中的tree的构建过程
    }




}
